{"version":3,"sources":["../src/rooms.es6"],"names":[],"mappings":";;;;;;;;;;AAAA,AAAC,CAAA,YAAY;AACZ,aAAY,CAAC;;KAEP,IAAI;YAAJ,IAAI;;AACE,WADN,IAAI,GACY;yBADhB,IAAI;;qCACM,IAAI;AAAJ,QAAI;;;AAClB,8BAFI,IAAI,8CAEC,IAAI,EAAE;GACf;;SAHI,IAAI;IAAS,KAAK;;KAMlB,KAAK;AACC,WADN,KAAK,GACI;yBADT,KAAK;;AAET,OAAI,CAAC,OAAO,GAAG,IAAI,GAAG,EAAE,CAAC;GACzB;;eAHI,KAAK;;UAKJ,gBAAC,EAAE,EAAE;AACV,QAAI,CAAC,OAAO,CAAC,GAAG,CAAC,MAAM,CAAC,EAAE,CAAC,EAAE,IAAI,IAAI,EAAE,CAAC,CAAC;;AAEzC,WAAO,IAAI,CAAC,GAAG,CAAC,MAAM,CAAC,EAAE,CAAC,CAAC,CAAC;IAC5B;;;UAEK,gBAAC,EAAE,EAAE;AACV,QAAI,CAAC,OAAO,UAAO,CAAC,MAAM,CAAC,EAAE,CAAC,CAAC,CAAC;;AAEhC,WAAO,IAAI,CAAC;IACZ;;;UAEE,aAAC,EAAE,EAAE;AACP,WAAO,IAAI,CAAC,OAAO,CAAC,GAAG,CAAC,MAAM,CAAC,EAAE,CAAC,CAAC,CAAC;IACpC;;;UAEI,eAAC,EAAE,EAAE;AACT,WAAO,IAAI,CAAC,OAAO,CAAC,GAAG,CAAC,MAAM,CAAC,EAAE,CAAC,CAAC,CAAC;IACpC;;;UAES,oBAAC,MAAM,EAAE,MAAM,EAAE;AAC1B,QAAI,IAAI,GAAG,IAAI,CAAC,OAAO,CAAC,GAAG,CAAC,MAAM,CAAC,MAAM,CAAC,CAAC,CAAC;;AAE5C,QAAI,CAAC,IAAI,EAAE;AACV,SAAI,GAAG,IAAI,CAAC,MAAM,CAAC,MAAM,CAAC,MAAM,CAAC,CAAC,CAAC;KACnC;;AAED,QAAI,EAAE,MAAM,YAAY,KAAK,CAAA,AAAC,EAAE;AAC/B,WAAM,GAAG,CAAC,MAAM,CAAC,CAAC;KAClB;;AAED,UAAM,CAAC,OAAO,CAAC,UAAU,MAAM,EAAE;AAChC,SAAI,EAAC,CAAC,IAAI,CAAC,OAAO,CAAC,MAAM,CAAC,MAAM,CAAC,CAAC,EAAE;AACnC,UAAI,CAAC,IAAI,CAAC,MAAM,CAAC,MAAM,CAAC,CAAC,CAAC;MAC1B;KACD,CAAC,CAAC;;AAEH,WAAO,IAAI,CAAC;IACZ;;;UAEW,sBAAC,MAAM,EAAE,MAAM,EAAE;AAC5B,QAAI,IAAI,GAAI,IAAI,CAAC,OAAO,CAAC,GAAG,CAAC,MAAM,CAAC,MAAM,CAAC,CAAC;QACxC,KAAK,GAAG,CAAC,CAAC,CAAC;;AAEf,QAAI,IAAI,EAAE;AACT,SAAI,EAAE,MAAM,YAAY,KAAK,CAAA,AAAC,EAAE;AAC/B,YAAM,GAAG,CAAC,MAAM,CAAC,CAAC;MAClB;;AAED,WAAM,CAAC,OAAO,CAAC,UAAU,MAAM,EAAE;AAChC,WAAK,GAAG,IAAI,CAAC,OAAO,CAAC,MAAM,CAAC,MAAM,CAAC,CAAC,CAAC;;AAErC,OAAC,KAAK,IAAI,IAAI,CAAC,MAAM,CAAC,KAAK,EAAE,CAAC,CAAC,CAAC;MAChC,CAAC,CAAC;KAEH;;AAED,WAAO,IAAI,CAAC;IACZ;;;SA/DI,KAAK;;;AAkEX,OAAM,CAAC,OAAO,GAAG,KAAK,CAAC;CACvB,CAAA,EAAE,CAAE","file":"rooms.js","sourcesContent":["(function () {\n\t'use strict';\n\n\tclass Room extends Array {\n\t\tconstructor(...args) {\n\t\t\tsuper(...args);\n\t\t}\n\t}\n\n\tclass Rooms {\n\t\tconstructor() {\n\t\t\tthis.__rooms = new Map();\n\t\t}\n\n\t\tcreate(id) {\n\t\t\tthis.__rooms.set(String(id), new Room());\n\n\t\t\treturn this.get(String(id));\n\t\t}\n\n\t\tremove(id) {\n\t\t\tthis.__rooms.delete(String(id));\n\n\t\t\treturn this;\n\t\t}\n\n\t\tget(id) {\n\t\t\treturn this.__rooms.get(String(id));\n\t\t}\n\n\t\texist(id) {\n\t\t\treturn this.__rooms.has(String(id));\n\t\t}\n\n\t\taddMembers(idRoom, member) {\n\t\t\tvar room = this.__rooms.get(String(idRoom));\n\n\t\t\tif (!room) {\n\t\t\t\troom = this.create(String(idRoom));\n\t\t\t}\n\n\t\t\tif (!(member instanceof Array)) {\n\t\t\t\tmember = [member];\n\t\t\t}\n\n\t\t\tmember.forEach(function (member) {\n\t\t\t\tif (!~room.indexOf(String(member))) {\n\t\t\t\t\troom.push(String(member));\n\t\t\t\t}\n\t\t\t});\n\n\t\t\treturn room;\n\t\t}\n\n\t\tremoveMember(idRoom, member) {\n\t\t\tvar room  = this.__rooms.get(String(idRoom)),\n\t\t\t    index = -1;\n\n\t\t\tif (room) {\n\t\t\t\tif (!(member instanceof Array)) {\n\t\t\t\t\tmember = [member];\n\t\t\t\t}\n\n\t\t\t\tmember.forEach(function (member) {\n\t\t\t\t\tindex = room.indexOf(String(member));\n\n\t\t\t\t\t~index && room.splice(index, 1);\n\t\t\t\t});\n\n\t\t\t}\n\n\t\t\treturn this;\n\t\t}\n\t}\n\n\tmodule.exports = Rooms;\n}());"]}